{% extends "base.html" %}
{% block title %}Archivos {{ tag }} - Inventario TI{% endblock %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="mb-0">Archivos del activo
    <span class="badge text-bg-secondary">{{ tag }}</span>
  </h2>
  <a href="{{ url_for('device_view', tag=tag) }}" class="btn btn-azul">
    <i class="bi bi-arrow-left"></i> Volver al equipo
  </a>
</div>

<div class="card shadow-sm">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table mb-0 align-middle">
        <thead class="table-light">
          <tr>
            <th>Nombre</th>
            <th style="width: 140px;">Tama√±o</th>
            <th style="width: 160px;">Fecha</th>
            <th style="width: 100px;">Origen</th>
            <th style="width: 100px;"></th>
          </tr>
        </thead>
        <tbody>
          {% for f in files %}
          <tr>
            <td>{{ f.name }}</td>
            <td>{{ (f.size/1024)|round(1) }} KB</td>
            <td>{{ f.mtime }}</td>
            <td>{{ f.where }}</td>
            <td class="text-end">
              <a class="btn btn-sm btn-azul"
                 href="{{ url_for('device_download', tag=tag, where=f.where, fname=f.name) }}">
                <i class="bi bi-download"></i>
              </a>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="5" class="text-muted text-center py-4">Sin archivos</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
